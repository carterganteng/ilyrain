<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>i love you, rain</title>
    <link href="https://fonts.googleapis.com/css2?family=Chewy&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Chewy', cursive;
            background: linear-gradient(135deg, #e6f7ff, #f0f8ff, #e6f2ff);
            color: #5d8aa8;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 10;
        }

        .page {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
            position: relative;
        }

        h1 {
            font-size: 2.8rem;
            color: #89cff0;
            text-shadow: 3px 3px 0px #b8d8f0;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.3rem;
            color: #a8c8e0;
        }

        .snoopy-main {
            width: 150px;
            height: auto;
            margin: 15px auto;
            animation: float 3s ease-in-out infinite;
            filter: drop-shadow(3px 3px 0px rgba(0,0,0,0.1));
        }

        @keyframes float {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(5deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }

        .navigation {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50px;
            padding: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            position: sticky;
            top: 10px;
            z-index: 100;
        }

        .nav-btn {
            background: none;
            border: none;
            font-family: 'Chewy', cursive;
            font-size: 1.2rem;
            color: #5d8aa8;
            padding: 10px 15px;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-btn.active {
            background-color: #b8d8f0;
            color: white;
            transform: scale(1.05);
        }

        .nav-btn:hover {
            transform: scale(1.05);
        }

        .content-box {
            background-color: rgba(255, 255, 255, 0.85);
            border-radius: 25px;
            padding: 25px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
            margin-top: 20px;
            border: 3px dashed #b8d8f0;
            position: relative;
            overflow: hidden;
        }

        .content-box::before {
            content: "";
            position: absolute;
            top: -20px;
            right: -20px;
            width: 80px;
            height: 80px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50,10 C70,10 85,25 85,45 C85,65 70,80 50,80 C30,80 15,65 15,45 C15,25 30,10 50,10 Z" fill="%23b8d8f0" opacity="0.3"/></svg>');
            background-size: contain;
            background-repeat: no-repeat;
        }

        .home-content {
            text-align: center;
            line-height: 1.8;
            font-size: 1.2rem;
            color: #5d8aa8;
        }

        .heart {
            color: #ff6b9d;
            animation: heartbeat 1.5s ease-in-out infinite;
            display: inline-block;
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            5% { transform: scale(1.1); }
            10% { transform: scale(1); }
            15% { transform: scale(1.1); }
            20% { transform: scale(1); }
            100% { transform: scale(1); }
        }

        .snoopy-small {
            width: 25px;
            height: auto;
            display: inline-block;
            vertical-align: middle;
        }

        .game-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .game-card {
            background: linear-gradient(135deg, #b8d8f0, #a8c8e0);
            border-radius: 15px;
            padding: 20px 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.15);
        }

        .game-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #5d8aa8;
        }

        .game-title {
            font-size: 1.1rem;
            color: #5d8aa8;
        }

        .letter-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-label {
            font-size: 1.2rem;
            color: #5d8aa8;
        }

        .form-input, .form-textarea {
            font-family: 'Chewy', cursive;
            font-size: 1.1rem;
            padding: 12px 15px;
            border-radius: 15px;
            border: 2px solid #b8d8f0;
            background-color: rgba(255, 255, 255, 0.7);
            color: #5d8aa8;
        }

        .form-textarea {
            min-height: 150px;
            resize: vertical;
        }

        .submit-btn {
            background: linear-gradient(135deg, #89cff0, #5d8aa8);
            border: none;
            border-radius: 50px;
            padding: 15px 30px;
            font-family: 'Chewy', cursive;
            font-size: 1.3rem;
            color: white;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.25);
        }

        .letter-list {
            margin-top: 30px;
        }

        .letter-item {
            background: rgba(255, 255, 255, 0.7);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 15px;
            border: 2px solid #b8d8f0;
            transition: all 0.3s ease;
        }

        .letter-item:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .letter-title {
            font-size: 1.3rem;
            color: #5d8aa8;
            margin-bottom: 5px;
        }

        .letter-content {
            font-size: 1.1rem;
            color: #7a9eb8;
            margin-bottom: 10px;
            line-height: 1.5;
        }

        .letter-date {
            font-size: 0.9rem;
            color: #a8c8e0;
            text-align: right;
        }

        .decorations {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 1;
        }

        .decoration {
            position: absolute;
            width: 60px;
            height: 60px;
            opacity: 0.7;
            animation: float 6s ease-in-out infinite;
        }

        .decoration:nth-child(1) { top: 10%; left: 5%; animation-delay: 0s; }
        .decoration:nth-child(2) { top: 20%; right: 10%; animation-delay: 1s; }
        .decoration:nth-child(3) { bottom: 30%; left: 15%; animation-delay: 2s; }
        .decoration:nth-child(4) { bottom: 20%; right: 5%; animation-delay: 3s; }
        .decoration:nth-child(5) { top: 50%; left: 8%; animation-delay: 4s; }
        .decoration:nth-child(6) { top: 40%; right: 15%; animation-delay: 5s; }
        .decoration:nth-child(7) { top: 15%; left: 20%; animation-delay: 6s; }
        .decoration:nth-child(8) { bottom: 10%; right: 20%; animation-delay: 7s; }

        .game-screen {
            display: none;
            text-align: center;
        }

        .game-title-screen {
            font-size: 2rem;
            color: #89cff0;
            margin-bottom: 20px;
        }

        .match-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 20px auto;
            max-width: 300px;
        }

        .match-card {
            background: linear-gradient(135deg, #b8d8f0, #a8c8e0);
            border-radius: 10px;
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .match-card img {
            width: 80%;
            height: auto;
            transition: all 0.3s ease;
        }

        .match-card.flipped {
            background: linear-gradient(135deg, #ffb6c1, #ff9eaa);
            transform: rotateY(180deg);
        }

        .match-card.flipped img {
            transform: rotateY(180deg);
            opacity: 1;
        }

        .back-button {
            background-color: #a8c8e0;
            border: none;
            border-radius: 50px;
            padding: 10px 20px;
            font-family: 'Chewy', cursive;
            font-size: 1rem;
            color: white;
            cursor: pointer;
            margin-top: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        .hidden {
            display: none;
        }

        .message {
            padding: 15px;
            border-radius: 15px;
            margin: 15px 0;
            text-align: center;
            font-size: 1.2rem;
        }

        .success {
            background-color: rgba(184, 216, 240, 0.5);
            color: #5d8aa8;
        }

        .game-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 1.2rem;
            color: #5d8aa8;
        }

        .match-message {
            font-size: 1.3rem;
            color: #ff6b9d;
            margin: 10px 0;
            min-height: 30px;
        }

        .snoopy-dance {
            animation: dance 1s infinite alternate;
        }

        @keyframes dance {
            from { transform: rotate(-5deg); }
            to { transform: rotate(5deg); }
        }

        .floating-hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
        }

        .heart-animation {
            position: absolute;
            font-size: 20px;
            color: #ff6b9d;
            opacity: 0;
            animation: heartFloat 5s linear forwards;
        }

        @keyframes heartFloat {
            0% {
                opacity: 1;
                transform: translateY(100vh) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) rotate(360deg);
            }
        }

        .envelope {
            width: 200px;
            height: 150px;
            background: #ffb6c1;
            margin: 20px auto;
            position: relative;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .envelope:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #ff9eaa, #ffb6c1);
            clip-path: polygon(0% 0%, 100% 0%, 50% 50%);
            border-radius: 10px 10px 0 0;
            z-index: 2;
        }

        .envelope:after {
            content: '‚úâÔ∏è';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            z-index: 3;
        }

        .envelope:hover {
            transform: translateY(-10px);
        }

        .letter-paper {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border: 2px dashed #b8d8f0;
            position: relative;
        }

        .letter-paper:before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            border: 2px solid #ffb6c1;
            border-radius: 15px;
            z-index: -1;
        }

        .puzzle-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 5px;
            margin: 20px auto;
            max-width: 300px;
        }

        .puzzle-piece {
            aspect-ratio: 1;
            background-size: 300px 300px;
            border: 1px solid #b8d8f0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .puzzle-piece:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .puzzle-piece.empty {
            background-color: #e6f2ff;
            border: 1px dashed #b8d8f0;
        }

        .emoji-card {
            font-size: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
        }
    </style>
</head>
<body>
    <div class="floating-hearts" id="floating-hearts"></div>
    
    <div class="decorations">
        <!-- Different Snoopy character images -->
        <img src="https://upload.wikimedia.org/wikipedia/en/thumb/5/53/Snoopy_Peanuts.png/200px-Snoopy_Peanuts.png" alt="Snoopy" class="decoration">
        <img src="snoopy.png" alt="Snoopy" class="decoration">
        <img src="https://upload.wikimedia.org/wikipedia/en/thumb/5/53/Snoopy_Peanuts.png/200px-Snoopy_Peanuts.png" alt="Snoopy" class="decoration">
        <img src="snoopy.png" alt="Snoopy" class="decoration">
        <img src="https://upload.wikimedia.org/wikipedia/en/thumb/5/53/Snoopy_Peanuts.png/200px-Snoopy_Peanuts.png" alt="Snoopy" class="decoration">
        <img src="snoopy.png" alt="Snoopy" class="decoration">
        <img src="https://upload.wikimedia.org/wikipedia/en/thumb/5/53/Snoopy_Peanuts.png/200px-Snoopy_Peanuts.png" alt="Snoopy" class="decoration">
        <img src="snoopy.png" alt="Snoopy" class="decoration">
    </div>

    <div class="container">
        <div class="header">
            <h1>i love you, rain</h1>
            <p class="subtitle">made by carter and only for rain</p>
            <img src="https://upload.wikimedia.org/wikipedia/en/thumb/5/53/Snoopy_Peanuts.png/200px-Snoopy_Peanuts.png" alt="Snoopy" class="snoopy-main snoopy-dance">
        </div>

        <!-- Home Page -->
        <div class="page active" id="home-page">
            <div class="content-box">
                <div class="home-content">
                    <p>Halo, rain</p>
                    <p>i made this website just for you.</p>
                    <p>to show how much i do love you, rain.</p>
                    <p>hope you like it.</p>
                    <p>Hope you like it! <img src="https://upload.wikimedia.org/wikipedia/en/thumb/5/53/Snoopy_Peanuts.png/200px-Snoopy_Peanuts.png" alt="Snoopy" class="snoopy-small"></p>
                    
                    <div class="envelope" onclick="showLetterForm()"></div>
                    <p>Klik amplop untuk menulis surat!</p>
                </div>
            </div>
        </div>

        <!-- Game Page -->
        <div class="page" id="game-page">
            <div class="content-box">
                <h2 class="game-title-screen">Pilih Game Lucu</h2>
                <div class="game-container">
                    <div class="game-card" data-game="match">
                        <div class="game-icon">üé¥</div>
                        <div class="game-title">Match Cards</div>
                    </div>
                    <div class="game-card" data-game="memory">
                        <div class="game-icon">üß†</div>
                        <div class="game-title">Memory Game</div>
                    </div>
                    <div class="game-card" data-game="puzzle">
                        <div class="game-icon">üß©</div>
                        <div class="game-title">Puzzle Snoopy</div>
                    </div>
                </div>

                <!-- Match Game -->
                <div class="game-screen" id="match-game">
                    <h3 class="game-title-screen">Match the Emoji</h3>
                    <div class="game-stats">
                        <div>Moves: <span id="move-count">0</span></div>
                        <div>Matches: <span id="match-count">0</span>/8</div>
                    </div>
                    <div class="match-message" id="match-message"></div>
                    <div class="match-container" id="match-container">
                        <!-- Match cards will be generated here -->
                    </div>
                    <button class="back-button" data-back="game">
                        <span>‚Üê</span> Kembali ke Game
                    </button>
                </div>

                <!-- Memory Game -->
                <div class="game-screen" id="memory-game">
                    <h3 class="game-title-screen">Memory Game</h3>
                    <p>Ingat urutan foto rain!</p>
                    <div id="memory-sequence" style="margin: 20px 0; font-size: 2rem;"></div>
                    <button id="start-memory" class="submit-btn">Mulai Game</button>
                    <div id="memory-buttons" style="margin-top: 20px;"></div>
                    <button class="back-button" data-back="game">
                        <span>‚Üê</span> Kembali ke Game
                    </button>
                </div>

                <!-- Puzzle Game -->
                <div class="game-screen" id="puzzle-game">
                    <h3 class="game-title-screen">mini puzzle</h3>
                    <p>Urutkan potongan gambar</p>
                    <div id="puzzle-container" style="margin: 20px auto; max-width: 300px;"></div>
                    <button class="back-button" data-back="game">
                        <span>‚Üê</span> Kembali ke Game
                    </button>
                </div>
            </div>
        </div>

        <!-- Letter Page -->
        <div class="page" id="letter-page">
            <div class="content-box">
                <h2>write a letter for rain</h2>
                
                <form class="letter-form" id="letter-form">
                    <div class="form-group">
                        <label class="form-label">Judul Surat</label>
                        <input type="text" class="form-input" id="letter-title" placeholder="Judul surat kamu..." required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Isi Surat</label>
                        <textarea class="form-textarea" id="letter-content" placeholder="Tulis surat spesial untuk Kaka Emal..." required></textarea>
                    </div>
                    
                    <button type="submit" class="submit-btn">
                        <img src="https://upload.wikimedia.org/wikipedia/en/thumb/5/53/Snoopy_Peanuts.png/200px-Snoopy_Peanuts.png" alt="Snoopy" class="snoopy-small"> Kirim Surat
                    </button>
                </form>

                <div id="success-message" class="message success hidden">
                    Surat berhasil dikirim! ‚ù§Ô∏è
                </div>

                <div class="letter-list" id="letter-list">
                    <!-- Letter items will be added here -->
                </div>
            </div>
        </div>
        
        <!-- Navigation at the bottom -->
        <div class="navigation">
            <button class="nav-btn active" data-page="home">
                <img src="https://upload.wikimedia.org/wikipedia/en/thumb/5/53/Snoopy_Peanuts.png/200px-Snoopy_Peanuts.png" alt="Snoopy" class="snoopy-small"> Home
            </button>
            <button class="nav-btn" data-page="game">
                <img src="snoopy.png" alt="Snoopy" class="snoopy-small"> Game
            </button>
            <button class="nav-btn" data-page="letter">
                <img src="https://upload.wikimedia.org/wikipedia/en/thumb/5/53/Snoopy_Peanuts.png/200px-Snoopy_Peanuts.png" alt="Snoopy" class="snoopy-small"> Letter
            </button>
        </div>
    </div>

    <script>
        // Navigation
        const navBtns = document.querySelectorAll('.nav-btn');
        const pages = document.querySelectorAll('.page');
        
        navBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const targetPage = btn.getAttribute('data-page');
                
                // Update active nav button
                navBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                // Show target page
                pages.forEach(page => {
                    page.classList.remove('active');
                    if (page.id === `${targetPage}-page`) {
                        page.classList.add('active');
                    }
                });
                
                // Create floating hearts when switching pages
                createFloatingHearts(5);
            });
        });

        // Show letter form from home page envelope
        function showLetterForm() {
            navBtns.forEach(b => b.classList.remove('active'));
            document.querySelector('[data-page="letter"]').classList.add('active');
            
            pages.forEach(page => {
                page.classList.remove('active');
                if (page.id === 'letter-page') {
                    page.classList.add('active');
                }
            });
            
            createFloatingHearts(5);
        }

        // Floating hearts animation
        function createFloatingHearts(count) {
            const container = document.getElementById('floating-hearts');
            
            for (let i = 0; i < count; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart-animation';
                heart.innerHTML = '‚ù§Ô∏è';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = (Math.random() * 3 + 3) + 's';
                
                container.appendChild(heart);
                
                // Remove heart after animation completes
                setTimeout(() => {
                    heart.remove();
                }, 5000);
            }
        }

        // Letter Form Submission
        const letterForm = document.getElementById('letter-form');
        const letterList = document.getElementById('letter-list');
        const successMessage = document.getElementById('success-message');
        
        // Load existing letters from localStorage
        loadLetters();
        
        letterForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const title = document.getElementById('letter-title').value;
            const content = document.getElementById('letter-content').value;
            
            if (!title || !content) {
                alert('Harap isi judul dan isi surat!');
                return;
            }
            
            // Create letter object
            const letter = {
                title,
                content,
                date: new Date().toLocaleDateString('id-ID', { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                })
            };
            
            // Save to localStorage
            saveLetter(letter);
            
            // Add to letter list
            addLetterToList(letter);
            
            // Show success message
            successMessage.classList.remove('hidden');
            setTimeout(() => {
                successMessage.classList.add('hidden');
            }, 3000);
            
            // Reset form
            letterForm.reset();
            
            // Create floating hearts
            createFloatingHearts(10);
        });
        
        function saveLetter(letter) {
            let letters = JSON.parse(localStorage.getItem('lettersForKakaEmal')) || [];
            letters.unshift(letter); // Add to beginning of array
            localStorage.setItem('lettersForKakaEmal', JSON.stringify(letters));
        }
        
        function loadLetters() {
            const letters = JSON.parse(localStorage.getItem('lettersForKakaEmal')) || [];
            letters.forEach(letter => addLetterToList(letter));
        }
        
        function addLetterToList(letter) {
            const letterItem = document.createElement('div');
            letterItem.className = 'letter-item';
            letterItem.innerHTML = `
                <div class="letter-title">${letter.title}</div>
                <div class="letter-content">${letter.content}</div>
                <div class="letter-date">${letter.date}</div>
            `;
            letterList.prepend(letterItem); // Add to beginning of list
        }

        // Game Logic
        const gameCards = document.querySelectorAll('.game-card');
        const gameScreens = document.querySelectorAll('.game-screen');
        const backButtons = document.querySelectorAll('.back-button');
        
        gameCards.forEach(card => {
            card.addEventListener('click', () => {
                const game = card.getAttribute('data-game');
                
                // Hide all game screens
                gameScreens.forEach(screen => {
                    screen.style.display = 'none';
                });
                
                // Show selected game
                document.getElementById(`${game}-game`).style.display = 'block';
                
                // Initialize the game
                if (game === 'match') {
                    initMatchGame();
                } else if (game === 'memory') {
                    initMemoryGame();
                } else if (game === 'puzzle') {
                    initPuzzleGame();
                }
                
                // Create floating hearts
                createFloatingHearts(3);
            });
        });
        
        backButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                const target = btn.getAttribute('data-back');
                
                if (target === 'game') {
                    // Hide all game screens
                    gameScreens.forEach(screen => {
                        screen.style.display = 'none';
                    });
                }
            });
        });

        // Match Game
        let firstCard = null;
        let secondCard = null;
        let lockBoard = false;
        let matches = 0;
        let moves = 0;

        function initMatchGame() {
            const matchContainer = document.getElementById('match-container');
            matchContainer.innerHTML = '';
            
            // Reset game stats
            matches = 0;
            moves = 0;
            document.getElementById('move-count').textContent = moves;
            document.getElementById('match-count').textContent = matches;
            document.getElementById('match-message').textContent = '';
            
            // Emoji pairs for matching
            const emojis = ['‚ù§Ô∏è', '‚≠ê', 'üåà', 'üê∂', 'üå∏', 'üç¶', 'üéà', 'üéµ'];
            
            // Duplicate emojis to create pairs
            const cardEmojis = [...emojis, ...emojis];
            
            // Shuffle emojis
            for (let i = cardEmojis.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [cardEmojis[i], cardEmojis[j]] = [cardEmojis[j], cardEmojis[i]];
            }
            
            // Create match cards
            cardEmojis.forEach((emoji, index) => {
                const card = document.createElement('div');
                card.className = 'match-card';
                card.setAttribute('data-emoji', emoji);
                card.setAttribute('data-index', index);
                
                // Add Snoopy cover image
                const coverImg = document.createElement('img');
                coverImg.src = 'https://upload.wikimedia.org/wikipedia/en/thumb/5/53/Snoopy_Peanuts.png/200px-Snoopy_Peanuts.png';
                coverImg.alt = 'Snoopy';
                
                // Add emoji (hidden initially)
                const emojiSpan = document.createElement('span');
                emojiSpan.className = 'emoji-card';
                emojiSpan.textContent = emoji;
                emojiSpan.style.display = 'none';
                
                card.appendChild(coverImg);
                card.appendChild(emojiSpan);
                card.addEventListener('click', flipCard);
                matchContainer.appendChild(card);
            });
        }
        
        function flipCard() {
            if (lockBoard) return;
            if (this === firstCard) return;
            
            this.classList.add('flipped');
            this.querySelector('img').style.display = 'none';
            this.querySelector('.emoji-card').style.display = 'flex';
            
            if (!firstCard) {
                firstCard = this;
                return;
            }
            
            secondCard = this;
            moves++;
            document.getElementById('move-count').textContent = moves;
            checkForMatch();
        }
        
        function checkForMatch() {
            const isMatch = firstCard.getAttribute('data-emoji') === secondCard.getAttribute('data-emoji');
            
            if (isMatch) {
                disableCards();
                matches++;
                document.getElementById('match-count').textContent = matches;
                document.getElementById('match-message').textContent = 'Keren! Kamu menemukan pasangan! üéâ';
                
                if (matches === 8) {
                    document.getElementById('match-message').textContent = 'Selamat! Kamu menang! üèÜ';
                    createFloatingHearts(15);
                }
            } else {
                unflipCards();
            }
        }
        
        function disableCards() {
            firstCard.removeEventListener('click', flipCard);
            secondCard.removeEventListener('click', flipCard);
            
            resetBoard();
        }
        
        function unflipCards() {
            lockBoard = true;
            
            setTimeout(() => {
                firstCard.classList.remove('flipped');
                firstCard.querySelector('img').style.display = 'block';
                firstCard.querySelector('.emoji-card').style.display = 'none';
                
                secondCard.classList.remove('flipped');
                secondCard.querySelector('img').style.display = 'block';
                secondCard.querySelector('.emoji-card').style.display = 'none';
                
                resetBoard();
            }, 1000);
        }
        
        function resetBoard() {
            [firstCard, secondCard, lockBoard] = [null, null, false];
        }

        // Memory Game
        function initMemoryGame() {
            const memoryButtons = document.getElementById('memory-buttons');
            memoryButtons.innerHTML = '';
            
            // Create memory buttons with rain images
            const rainImages = ['rain1.jpg', 'rain2.jpg', 'rain3.jpg', 'rain4.jpg'];
            
            rainImages.forEach((image, index) => {
                const button = document.createElement('button');
                button.className = 'match-card';
                button.style.margin = '5px';
                button.setAttribute('data-index', index + 1);
                
                const img = document.createElement('img');
                img.src = image;
                img.alt = 'Rain';
                img.style.width = '80%';
                img.style.height = '80%';
                img.style.objectFit = 'cover';
                
                button.appendChild(img);
                button.addEventListener('click', () => {
                    checkMemorySequence(parseInt(button.getAttribute('data-index')));
                });
                memoryButtons.appendChild(button);
            });
        }
        
        let memorySequence = [];
        let userSequence = [];
        let memoryLevel = 1;
        
        document.getElementById('start-memory').addEventListener('click', startMemoryGame);
        
        function startMemoryGame() {
            memorySequence = [];
            userSequence = [];
            memoryLevel = 1;
            generateMemorySequence();
        }
        
        function generateMemorySequence() {
            memorySequence = [];
            for (let i = 0; i < memoryLevel; i++) {
                memorySequence.push(Math.floor(Math.random() * 4) + 1);
            }
            
            displayMemorySequence();
        }
        
        function displayMemorySequence() {
            const sequenceDisplay = document.getElementById('memory-sequence');
            sequenceDisplay.innerHTML = 'Ingat urutan foto rain:';
            
            // Show sequence with images
            memorySequence.forEach(num => {
                setTimeout(() => {
                    const img = document.createElement('img');
                    img.src = `rain${num}.jpg`;
                    img.alt = 'Rain';
                    img.style.width = '80px';
                    img.style.height = '80px';
                    img.style.objectFit = 'cover';
                    img.style.margin = '0 5px';
                    img.style.borderRadius = '10px';
                    sequenceDisplay.appendChild(img);
                }, 1000 * memorySequence.indexOf(num));
            });
            
            setTimeout(() => {
                sequenceDisplay.innerHTML = 'Sekarang giliranmu!';
                userSequence = [];
            }, 1000 * memorySequence.length + 1000);
        }
        
        function checkMemorySequence(number) {
            userSequence.push(number);
            
            if (userSequence.length === memorySequence.length) {
                if (JSON.stringify(userSequence) === JSON.stringify(memorySequence)) {
                    alert(`Selamat! Level ${memoryLevel} berhasil!`);
                    memoryLevel++;
                    generateMemorySequence();
                    createFloatingHearts(5);
                } else {
                    alert('Urutan salah! Coba lagi.');
                    startMemoryGame();
                }
            }
        }

        // Puzzle Game
        function initPuzzleGame() {
            const puzzleContainer = document.getElementById('puzzle-container');
            puzzleContainer.innerHTML = '';
            puzzleContainer.className = 'puzzle-container';
            
            // Create a 3x3 puzzle
            const puzzlePieces = 9;
            const pieces = [];
            
            for (let i = 0; i < puzzlePieces; i++) {
                const piece = document.createElement('div');
                piece.className = 'puzzle-piece';
                piece.setAttribute('data-index', i);
                
                // Calculate background position for each piece
                const row = Math.floor(i / 3);
                const col = i % 3;
                piece.style.backgroundImage = 'url("puzzle.jpg")';
                piece.style.backgroundPosition = `-${col * 100}px -${row * 100}px`;
                
                piece.addEventListener('click', () => {
                    movePuzzlePiece(i);
                });
                
                puzzleContainer.appendChild(piece);
                pieces.push(piece);
            }
            
            // Shuffle the puzzle
            shufflePuzzle(pieces);
        }
        
        function shufflePuzzle(pieces) {
            // Simple shuffle by swapping pieces
            for (let i = 0; i < 100; i++) {
                const randomIndex1 = Math.floor(Math.random() * pieces.length);
                const randomIndex2 = Math.floor(Math.random() * pieces.length);
                
                // Swap background positions
                const tempPos = pieces[randomIndex1].style.backgroundPosition;
                pieces[randomIndex1].style.backgroundPosition = pieces[randomIndex2].style.backgroundPosition;
                pieces[randomIndex2].style.backgroundPosition = tempPos;
            }
        }
        
        function movePuzzlePiece(index) {
            // Simple puzzle interaction - just for demonstration
            const piece = document.querySelector(`.puzzle-piece[data-index="${index}"]`);
            piece.style.border = '2px solid #ff6b9d';
            
            setTimeout(() => {
                piece.style.border = '1px solid #b8d8f0';
            }, 500);
            
            // Check if puzzle is solved (simplified)
            if (Math.random() > 0.7) {
                document.getElementById('match-message').textContent = 'Selamat! Puzzle selesai! üéâ';
                createFloatingHearts(10);
            }
        }

        // Create initial floating hearts
        setInterval(() => {
            createFloatingHearts(1);
        }, 3000);
    </script>
</body>
    </html>
